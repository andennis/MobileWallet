@model PassContentTemplateFieldViewModel
    
@Html.HiddenForExt(m => m.PassContentTemplateId)
@Html.HiddenForExt(m => m.PassContentTemplateFieldId)

<script type="text/javascript">
    function OnPassProjectFieldChange(e) {
        var fieldId = e.sender.value();
        if (fieldId) {
            $.get("@(Url.Action<PassProjectFieldController>(a => a.Get(0)))/" + fieldId, function (data) {
                if (data.Success != null) {
                    if (data.Success) {
                        $("#Label").val(data.Data.DefaultLabel);
                    } else
                        alert(data.Message);
                }
            })
            .fail(function () {
                alert("An error occurred");
            });
        }
        else
            $("#Label").val(null);
    }
</script>


@if (Model.IsNew)
{
    @Html.DropDownListFormForExt(m => m.PassProjectFieldId, Model.PassProjectFields, Resources.FieldName, "- Select Field -", changeHandler: "OnPassProjectFieldChange")
}
else
{
    @Html.TextBlockFormForExt(m => m.FieldName, Resources.FieldName)
    @Html.HiddenForExt(m => m.PassProjectFieldId)
}

@Html.TextBoxFormForExt(m => m.Label)
@Html.DropDownListFormForExt(m => m.FieldKind, "Field Location", "- Select Field Location -")
@Html.TextBoxFormForExt(m => m.AttributedValue, "Attributed Value")
@Html.TextBoxFormForExt(m => m.ChangeMessage, "Change Message")
@Html.DropDownListFormForExt(m => m.TextAlignment, "Text Alignment", "- Select Text Alignment -")