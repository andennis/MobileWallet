@model int
@Html.ActionLinkExt("Add Certificate", "AddCertificate", "PassSiteCertificate", new { passSiteId = Model }, htmlAttributes: new { @class = "btn btn-default" })
@(Html.Grid<PassSiteCertificateViewModel>()
    .Name("grdCertificates")
    .CssClass("pm-grid")
    .Pageable()
    .AutoBind(false)
    .DataSource(ds => ds.Read(@Url.Action("GridSearch", "PassSiteCertificate")).Data("window.PassSite.CertificateDataHandler"))
    .Columns(c =>
    {
        c.Bound(m => m.PassCertificateId).Title("ID").Width("100px");
        c.BoundLink(m => m.Name, Url.Action("Edit", "PassSiteCertificate"), m => m.PassSiteCertificateId ).Title("Name");
        c.Bound(m => m.Description);
        c.Bound(m => m.ExpDate);
        c.Bound(m => m.PassSiteCertificateId).Title("Action").GridAction("Download", Url.Action("Download", "PassSiteCertificate")).GridAjaxAction("Remove", Url.Action("Delete", "PassSiteCertificate"));
    }))

<script type="text/javascript">
    $(document).ready(function() {
        var grid = $("#grdCertificates");
        window.grid.Init(grid);
        window.grid.Reload(grid);
    })
</script>

