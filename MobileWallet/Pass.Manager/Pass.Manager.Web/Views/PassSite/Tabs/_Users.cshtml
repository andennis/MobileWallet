@model int
@Html.ActionLinkExt("Add User", "AddUser", "PassSiteUser", new { passSiteId = Model }, new { @class = "btn btn-default" })
@(Html.Grid<PassSiteUserViewModel>()
    .Name("grdUsers")
    .CssClass("pm-grid")
    .Pageable()
    .Sortable()
    .AutoBind(false)
    .DataSource(ds => ds.Read(@Url.Action("GridSearch", "PassSiteUser")).Data("window.PassSite.UserDataHandler"))
    .Columns(c =>
    {
        c.Bound(m => m.UserId).Title("ID").Width("100px");
        c.BoundLink(m => m.UserName, Url.Action("Edit", "PassSiteUser"), m => m.PassSiteUserId, null, "Login").Orderable(false);
        c.Bound(m => m.FullName).Title("Name").Orderable(false);
        c.BoundEnum(m => m.UserState).Title("State");
        c.Bound(m => m.PassSiteUserId).Title("Action").GridAjaxAction("Remove", Url.Action("Delete", "PassSiteUser"));
    }))

<script type="text/javascript">
    $(document).ready(function() {
        var grid = $("#grdUsers");
        window.grid.Init(grid);
        window.grid.Reload(grid);
    })
</script>
